<html>
<head>
    <title>Leaflet</title>
<link rel="stylesheet" href="leaflet.css" />
<script src="leaflet.js"></script>    
<script src="hull.js"></script>    
<style type="text/css">
        .label {
            margin-top: 0px !important;
            font-size: 10px !important;

        }
    </style>
</head>
<body>
    <div style="width:100%; height:100%" id="map"></div>

<script type='text/javascript'>
Array.prototype.getUnique = function(){
    var u = {}, a = [];
    for(var i = 0, l = this.length; i < l; ++i){
        if(u.hasOwnProperty(this[i].toString())) {
            continue;
        }
        a.push(this[i]);
        u[this[i].toString()] = 1;
    }
    return a;
}

var map = L.map('map');
//map.addLayer(new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'));
map.addLayer(new L.TileLayer('http://{s}.tiles.mapbox.com/v3/nredko.ifiekjj3/{z}/{x}/{y}.png'));

var DEBUG = false;
var markers = [];
var poly = {};


function JSONP(obj){
    var points = obj.points;
    var pts = [];
    for(var i = 0; i < points.length; i++){
        var p = new L.latLng(points[i]);
        p.name = i;
        pts.push(p);
    }
    for(i = 0; i < pts.length - 1; i += 2){
        var rr = L.circleMarker(pts[i],{title:i,color:"#F00", radius:2})
                .addTo(map);
    }
    map.fitBounds(L.polygon(pts).getBounds());
}

</script>

<script type='text/javascript' src="http://127.0.0.1:5000/distance?jsonp=JSONP&loc=54.8625731,83.0933268&time=100"></script>
<!--
<script type='text/javascript' src="data300.js"></script>
-->
</body>


</html>

